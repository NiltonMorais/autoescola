<div class="panel panel-primary">
    <div class="panel-heading">
        <div class="panel-title">
            Novo Contrato           
        </div>
    </div>
    <?php
    $form = $this->form;
    $form->setAttribute('action', $this->url('contratos', array('action' => 'adicionar')));
    $form->prepare();
    echo $this->form()->openTag($form);
    ?>
    <form class="form-horizontal" role="form" method="POST" action="<?php echo $this->url('contratos', array('action' => 'adicionar')); ?>">
        <div class="panel-body">
            
            <div class="form-group">
                <label for="aluno_id" class="col-lg-3 col-md-3 control-label">Aluno:</label>
                <div class="col-lg-9  col-md-9">
                    <?php echo $this->formRow($form->get('aluno_id')); 
                        // renderiza elemento de erro
                        echo $this->formElementErrors()
                        ->setMessageOpenFormat('<small class="text-danger">')
                        ->setMessageSeparatorString('</small><br/><small class="text-danger">')
                        ->setMessageCloseString('</small>')
                        ->render($form->get('aluno_id'));
                    ?>
                </div>
            </div>
            
            
            <div class="form-group">
                <label for="valor" class="col-lg-3 col-md-3 control-label">Valor:</label>
                <div class="col-lg-9 col-md-9">
                    <?php echo $this->formInput($form->get('valor')); 
                        // renderiza elemento de erro
                        echo $this->formElementErrors()
                        ->setMessageOpenFormat('<small class="text-danger">')
                        ->setMessageSeparatorString('</small><br/><small class="text-danger">')
                        ->setMessageCloseString('</small>')
                        ->render($form->get('valor'));
                    ?>
                    
                </div>
            </div>
            
            <div class="form-group">
                <label for="valor_aula_teorica" class="col-lg-3 col-md-3 control-label">Valor aula te칩rica:</label>
                <div class="col-lg-9 col-md-9">
                    <?php echo $this->formInput($form->get('valor_aula_teorica')); 
                        // renderiza elemento de erro
                        echo $this->formElementErrors()
                        ->setMessageOpenFormat('<small class="text-danger">')
                        ->setMessageSeparatorString('</small><br/><small class="text-danger">')
                        ->setMessageCloseString('</small>')
                        ->render($form->get('valor_aula_teorica'));
                    ?>
                    
                </div>
            </div>
            
            <div class="form-group">
                <label for="valor_aula_carro" class="col-lg-3 col-md-3 control-label">Valor aula pr치tica(carro):</label>
                <div class="col-lg-9 col-md-9">
                    <?php echo $this->formInput($form->get('valor_aula_carro')); 
                        // renderiza elemento de erro
                        echo $this->formElementErrors()
                        ->setMessageOpenFormat('<small class="text-danger">')
                        ->setMessageSeparatorString('</small><br/><small class="text-danger">')
                        ->setMessageCloseString('</small>')
                        ->render($form->get('valor_aula_carro'));
                    ?>
                    
                </div>
            </div>
            
            <div class="form-group">
                <label for="valor_aula_moto" class="col-lg-3 col-md-3 control-label">Valor aula pr치tica(moto):</label>
                <div class="col-lg-9 col-md-9">
                    <?php echo $this->formInput($form->get('valor_aula_moto')); 
                        // renderiza elemento de erro
                        echo $this->formElementErrors()
                        ->setMessageOpenFormat('<small class="text-danger">')
                        ->setMessageSeparatorString('</small><br/><small class="text-danger">')
                        ->setMessageCloseString('</small>')
                        ->render($form->get('valor_aula_moto'));
                    ?>
                    
                </div>
            </div>
            
            <div class="form-group">
                <label for="data_inicio" class="col-lg-3 col-md-3 control-label">Data Inicial:</label>
                <div class="col-lg-9  col-md-9">
                    <?php echo $this->formInput($form->get('data_inicio')); 
                        // renderiza elemento de erro
                        echo $this->formElementErrors()
                        ->setMessageOpenFormat('<small class="text-danger">')
                        ->setMessageSeparatorString('</small><br/><small class="text-danger">')
                        ->setMessageCloseString('</small>')
                        ->render($form->get('data_inicio'));
                    ?>
                </div>
            </div>
            
            
            <div class="form-group">
                <label for="data_fim" class="col-lg-3 col-md-3 control-label">Data Final:</label>
                <div class="col-lg-9  col-md-9">
                    <?php echo $this->formInput($form->get('data_fim')); 
                        // renderiza elemento de erro
                        echo $this->formElementErrors()
                        ->setMessageOpenFormat('<small class="text-danger">')
                        ->setMessageSeparatorString('</small><br/><small class="text-danger">')
                        ->setMessageCloseString('</small>')
                        ->render($form->get('data_fim'));
                    ?>
                </div>
            </div>
 
        </div>
        <div class="panel-footer">
            <?php
            echo $this->formHidden($form->get('id'));
            echo $this->formElement($form->get('security')); 
            ?>
            <button type="submit" class="btn btn-primary">Salvar Contato</button>
            <a href="<?php echo $this->url('contratos'); ?>" class="btn btn-default">Voltar</a>
        </div>
         <?php echo $this->form()->closeTag() ?>
</div>



<!-- mascara para campos monet치rios -->


<script type="text/javascript">
		
		function BlockKeybord()
		{
			if(window.event) // IE
			{
				if((event.keyCode < 48) || (event.keyCode > 57))
				{
					event.returnValue = false;
				}
			}
			else if(e.which) // Netscape/Firefox/Opera
			{
				if((event.which < 48) || (event.which > 57))
				{
					event.returnValue = false;
				}
			}

			
		}

		function troca(str,strsai,strentra)
		{
			while(str.indexOf(strsai)>-1)
			{
				str = str.replace(strsai,strentra);
			}
			return str;
		}

		function FormataMoeda(campo,tammax,teclapres,caracter)
		{
			if(teclapres == null || teclapres == "undefined")
			{
				var tecla = -1;
			}
			else
			{
				var tecla = teclapres.keyCode;
			}

			if(caracter == null || caracter == "undefined")
			{
				caracter = ".";
			}

			vr = campo.value;
			if(caracter != "")
			{
				vr = troca(vr,caracter,"");
			}
			vr = troca(vr,"/","");
			vr = troca(vr,",","");
			vr = troca(vr,".","");

			tam = vr.length;
			if(tecla > 0)
			{
				if(tam < tammax && tecla != 8)
				{
					tam = vr.length + 1;
				}

				if(tecla == 8)
				{
					tam = tam - 1;
				}
			}
			if(tecla == -1 || tecla == 8 || tecla >= 48 && tecla <= 57 || tecla >= 96 && tecla <= 105)
			{
				if(tam <= 2)
				{
					campo.value = vr;
				}
				if((tam > 2) && (tam <= 5))
				{
					campo.value = vr.substr(0, tam - 2) + ',' + vr.substr(tam - 2, tam);
				}
				if((tam >= 6) && (tam <= 8))
				{
					campo.value = vr.substr(0, tam - 5) + caracter + vr.substr(tam - 5, 3) + ',' + vr.substr(tam - 2, tam);
				}
				if((tam >= 9) && (tam <= 11))
				{
					campo.value = vr.substr(0, tam - 8) + caracter + vr.substr(tam - 8, 3) + caracter + vr.substr(tam - 5, 3) + ',' + vr.substr(tam - 2, tam);
				}
				if((tam >= 12) && (tam <= 14))
				{
					campo.value = vr.substr(0, tam - 11) + caracter + vr.substr(tam - 11, 3) + caracter + vr.substr(tam - 8, 3) + caracter + vr.substr(tam - 5, 3) + ',' + vr.substr(tam - 2, tam);
				}
				if((tam >= 15) && (tam <= 17))
				{
					campo.value = vr.substr(0, tam - 14) + caracter + vr.substr(tam - 14, 3) + caracter + vr.substr(tam - 11, 3) + caracter + vr.substr(tam - 8, 3) + caracter + vr.substr(tam - 5, 3) + ',' + vr.substr(tam - 2, tam);
				}
			}
		}

		function maskKeyPress(objEvent)
		{
			var iKeyCode;
						
			if(window.event) // IE
			{
				iKeyCode = objEvent.keyCode;
				if(iKeyCode>=48 && iKeyCode<=57) return true;
				return false;
			}
			else if(e.which) // Netscape/Firefox/Opera
			{
				iKeyCode = objEvent.which;
				if(iKeyCode>=48 && iKeyCode<=57) return true;
				return false;
			}
			
			
		}
	</script>